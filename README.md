# Personal Panel Gedaeffect

Личный кабинет сотрудника компании ООО "Гедаэффект". Этот проект включает в себя:
- **Backend**: Реализован на Python Flask.
- **Frontend**: Реализован с использованием Angular.
- **Database**: SQLite для хранения данных о сотрудниках, правах доступа, уведомлениях и прочую информацию.

---

## Функционал

### Основные возможности и функционал:
1. **Авторизация**:
   - Регистрация пользователей Администратором сети или человеком с правами(HR, CEO, CMO, CFO, CIO).
   - Авторизация с использованием логина и пароля, с использованием код шифра(при авторизации из вне локальной сети) + привязка к мак адресу или HWID устройства.
   - Сохранение сеанса через cookie(которые так же привязываются через уникальный token устройства.

2. **Работа с профилем**:
   - Просмотр профиля (ФИО, номер телефона, фото профиля, должность, отдел, уровень доступа).
   - Редактирование личных данных и фотографии.

3. **Боковое меню (Sidebar)**:
   - Навигация по разделам: Dashboard, Профиль, Календарь, ...(остальное пока согласовываем и придумываем) .

4. **Календарь**:
   - Отслеживание рабочих часов и дней.

5. **Уведомления**:
   - Просмотр новых уведомлений в верхнем меню.

6. **Разграничение прав доступа**:
   - Управление уровнями доступа (глобальный уровень и доступ по отделам).

---

## Технологии

### Backend:
- **Flask** — Web framework.
- **Flask-SQLAlchemy** — Работа с базой данных.
- **Flask-Bcrypt** — Хэширование паролей.
- **Flask-CORS** — Разрешение CORS для взаимодействия с фронтендом.

### Frontend:
- **Angular** — Фреймворк для разработки интерфейсов.
- **Angular Material** — Библиотека UI-компонентов.

### Database:
- **SQLite** — Лёгкая база данных для хранения пользовательских данных.

---

## Установка

### Backend:

1. Убедитесь, что у вас установлен Python (рекомендуется версия 3.8+).
2. Установите зависимости:
   ```bash
   pip install flask flask-sqlalchemy flask-cors flask-bcrypt
   ```
3. Создайте базу данных:
   ```bash
   pyton3 db_creator.py
   ```
4. Запустите сервер:
   ```bash
   python app.py
   ```
   Сервер будет доступен по адресу: http://127.0.0.1:5000 или адресу из конфига.

### Frontend:
1. Убедитесь, что у вас установлен Node.js (рекомендую версия 16+).
2. Установите Angular CLI:
   ```bash
   npm install -g @angular/cli
   ```

3. Перейдите в директорию frontend и установите зависимости:
   ```bash
   cd frontend
   npm install
   ```

4. Запустите приложение:
   ```bash
   ng serve
   ```
Фронтенд будет доступен по адресу: http://localhost:4200.

# API EndPoins

## Авторизация:
### POST /api/auth/register — Регистрация нового пользователя.
В пост запросе передается HEADER с даннными создающего и создаваемого, на сервере происходит расшифровка запроса, если есть права на регистрацию, регистрируем нового пользователя.

### POST /api/auth/login — Авторизация пользователя.

## Профиль:
### GET /api/profile/<user_id> — Получить данные профиля.
### PUT /api/profile/<user_id> — Обновить данные профиля.

## Уведомления:
### GET /api/notifications/<user_id> — Получить уведомления пользователя.
<br><br>

---
# todo
Добавить отчёты и статистику в Dashboard.
Реализовать управление доступом через интерфейс администратора.
Интеграция с внешними системами (1С, KOT северсталь, и др.).
